import{b as m,a as g,u as f,r as p}from"./local-storage.CNRxCPsY.js";document.addEventListener("DOMContentLoaded",function(){function l(n){try{const t=document.querySelector(`.sub-item-controls[data-sub-item-id="${n}"]`);if(!t)return;const a=t.querySelector(".sub-quantity-display"),o=t.querySelector(".sub-quantity-btn.minus"),e=t.querySelector(".sub-quantity-btn.plus"),r=m(n)||0;a&&(a.textContent=r.toString());const u=99;e&&(e.disabled=r>=u),o&&(o.disabled=r<=0)}catch{}}document.addEventListener("click",function(n){const t=n.target;if(t.closest(".sub-quantity-btn.plus")){n.preventDefault(),n.stopPropagation();const o=t.closest(".sub-quantity-btn.plus").closest(".sub-item-controls");if(!o)return;const e=o.getAttribute("data-sub-item-id");if(!e)return;const r=m(e)||0,u=r+1;if(r===0){const c=o.closest(".popup-content"),d=o.getAttribute("data-sub-item-name")||"",s=c?.querySelector(".item-image img")?.getAttribute("src")||"",y=c?.querySelector(".category")?.textContent||"";g({id:e,title:d,category:"all",image:s,deadline:y,quantity:1,maxQuantity:99})}else f(e,u);l(e)}if(t.closest(".sub-quantity-btn.minus")){n.preventDefault(),n.stopPropagation();const o=t.closest(".sub-quantity-btn.minus").closest(".sub-item-controls");if(!o)return;const e=o.getAttribute("data-sub-item-id");if(!e)return;const r=m(e)||0;if(r<=0)return;const u=r-1;u===0?p(e):f(e,u),l(e)}}),window.addEventListener("itemsChange",function(){document.querySelectorAll(".sub-item-controls").forEach(n=>{const t=n.getAttribute("data-sub-item-id");t&&l(t)})}),document.querySelectorAll(".sub-item-controls").forEach(n=>{const t=n.getAttribute("data-sub-item-id");t&&l(t)});function b(){document.querySelectorAll(".image-carousel").forEach(n=>{try{let t=function(){if(e.forEach((i,s)=>{i.classList.toggle("active",s===c)}),d){const s=e[c].getAttribute("data-description")||"";d.textContent=s}},a=function(){c>0?c--:c=e.length-1,t()},o=function(){c<e.length-1?c++:c=0,t()};const e=n.querySelectorAll(".carousel-slide"),r=n.querySelector(".carousel-prev"),u=n.querySelector(".carousel-next");if(e.length===0)return;let c=0;const d=n.querySelector(".carousel-description");e.forEach(i=>{const s=i.querySelector("img");s&&s.addEventListener("error",()=>{})}),r&&r.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation(),a()}),u&&u.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation(),o()}),n.addEventListener("keydown",i=>{const s=i;s.key==="ArrowLeft"?(s.preventDefault(),a()):s.key==="ArrowRight"&&(s.preventDefault(),o())}),n.setAttribute("tabindex","0"),t()}catch{}})}b()});

import{i as a,a as d,r as u,b as m}from"./local-storage.BX_TrTX5.js";function f(o){if(window.popupCtrl){const e=document.querySelectorAll(".popup-bg.show");e.forEach(n=>{const i=n.previousElementSibling;i&&i.id&&i.id!=="place-staff-popup"&&window.popupCtrl(i.id,"close",!1,n)});const t=e.length>0?350:0;setTimeout(()=>{window.popupCtrl("place-staff-popup","open"),setTimeout(()=>{const n=document.querySelector("#venue-details-section"),i=document.querySelector(".place-section-title");i?i.scrollIntoView({behavior:"smooth",block:"start"}):n&&n.scrollIntoView({behavior:"smooth",block:"start"}),o&&setTimeout(()=>{const s=document.querySelector(`.venue[data-venue-code="${o}"]`);s&&s.scrollIntoView({behavior:"smooth",block:"center"})},400)},150)},t)}}window.openVenueDetails=f;function l(){document.querySelectorAll(".plan-cell").forEach(e=>{const t=e.getAttribute("data-item-id");if(t&&t!==""){const n=a(t),i=e.textContent?.trim();n&&!(i===""||i==="â€”"||i==="-")?e.classList.add("highlighted"):e.classList.remove("highlighted")}})}function g(){document.querySelectorAll(".plan-row").forEach(e=>{const t=e.getAttribute("data-row-id"),n=e.getAttribute("data-is-available")==="true";t&&n&&(e.style.cursor="pointer",e.addEventListener("click",function(i){i.stopPropagation();const s=`item-popup-${t}`;window.popupCtrl(s,"open")}))})}function h(){JSON.parse(localStorage.getItem("interestItems")||"[]").filter(t=>t.id.startsWith("tier-")).forEach(t=>{u(t.id)})}function v(){document.querySelectorAll(".tier-interest-button").forEach(e=>{const t=e.getAttribute("data-tier-name"),n=e.getAttribute("data-tier-title"),i=e.getAttribute("data-tier-deadline")||"";t&&n&&e.addEventListener("click",function(s){if(s.stopPropagation(),d(i))return;const p=e.closest(".tier-column")?.querySelector(".tier-price")?.textContent||"",r={id:`tier-${t}`,title:n,category:"plan",image:"",deadline:"",price:p};a(r.id)?(u(r.id),e.classList.remove("interested")):(h(),m(r),e.classList.add("interested"))})})}function c(){document.querySelectorAll(".tier-interest-button").forEach(e=>{const t=e.getAttribute("data-tier-name"),n=e.getAttribute("data-tier-deadline")||"";if(d(n)?(e.setAttribute("disabled","true"),e.classList.add("disabled")):(e.removeAttribute("disabled"),e.classList.remove("disabled")),t){const s=`tier-${t}`;a(s)?e.classList.add("interested"):e.classList.remove("interested")}})}document.addEventListener("DOMContentLoaded",function(){l(),g(),v(),c()});window.addEventListener("itemsChange",function(){l(),c()});document.addEventListener("interested-items-changed",function(){l(),c()});

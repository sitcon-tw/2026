import{i as a,r as l,a as u}from"./local-storage.BhujmQO4.js";function d(){document.querySelectorAll(".plan-cell").forEach(t=>{const e=t.getAttribute("data-item-id");if(e&&e!==""){const i=a(e),n=t.textContent?.trim();i&&!(n===""||n==="â€”"||n==="-")?t.classList.add("highlighted"):t.classList.remove("highlighted")}})}function p(){document.querySelectorAll(".plan-row").forEach(t=>{const e=t.getAttribute("data-row-id"),i=t.getAttribute("data-is-available")==="true";e&&i&&(t.style.cursor="pointer",t.addEventListener("click",function(n){n.stopPropagation();const s=`item-popup-${e}`;window.popupCtrl(s,"open")}))})}function f(){JSON.parse(localStorage.getItem("interestItems")||"[]").filter(e=>e.id.startsWith("tier-")).forEach(e=>{l(e.id)})}function g(){document.querySelectorAll(".tier-interest-button").forEach(t=>{const e=t.getAttribute("data-tier-name"),i=t.getAttribute("data-tier-title");e&&i&&t.addEventListener("click",function(n){n.stopPropagation();const m=t.closest(".tier-column")?.querySelector(".tier-price")?.textContent||"",o={id:`tier-${e}`,title:i,category:"plan",image:"",deadline:"",price:m};a(o.id)?(l(o.id),t.classList.remove("interested")):(f(),u(o),t.classList.add("interested"))})})}function c(){document.querySelectorAll(".tier-interest-button").forEach(t=>{const e=t.getAttribute("data-tier-name");if(e){const i=`tier-${e}`;a(i)?t.classList.add("interested"):t.classList.remove("interested")}})}document.addEventListener("DOMContentLoaded",function(){d(),p(),g(),c()});window.addEventListener("itemsChange",function(){d(),c()});document.addEventListener("interested-items-changed",function(){d(),c()});

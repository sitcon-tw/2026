import{i as d,a as c,r as m,b as p}from"./local-storage.BX_TrTX5.js";function o(){document.querySelectorAll(".plan-cell").forEach(e=>{const t=e.getAttribute("data-item-id");if(t&&t!==""){const i=d(t),s=e.textContent?.trim();i&&!(s===""||s==="â€”"||s==="-")?e.classList.add("highlighted"):e.classList.remove("highlighted")}})}function f(){document.querySelectorAll(".plan-row").forEach(e=>{const t=e.getAttribute("data-row-id"),i=e.getAttribute("data-is-available")==="true";t&&i&&(e.style.cursor="pointer",e.addEventListener("click",function(s){s.stopPropagation();const r=`item-popup-${t}`;window.popupCtrl(r,"open")}))})}function g(){JSON.parse(localStorage.getItem("interestItems")||"[]").filter(t=>t.id.startsWith("tier-")).forEach(t=>{m(t.id)})}function I(){document.querySelectorAll(".tier-interest-button").forEach(e=>{const t=e.getAttribute("data-tier-name"),i=e.getAttribute("data-tier-title"),s=e.getAttribute("data-tier-deadline")||"";t&&i&&e.addEventListener("click",function(r){if(r.stopPropagation(),c(s))return;const u=e.closest(".tier-column")?.querySelector(".tier-price")?.textContent||"",a={id:`tier-${t}`,title:i,category:"plan",image:"",deadline:"",price:u};d(a.id)?(m(a.id),e.classList.remove("interested")):(g(),p(a),e.classList.add("interested"))})})}function l(){document.querySelectorAll(".tier-interest-button").forEach(e=>{const t=e.getAttribute("data-tier-name"),i=e.getAttribute("data-tier-deadline")||"";if(c(i)?(e.setAttribute("disabled","true"),e.classList.add("disabled")):(e.removeAttribute("disabled"),e.classList.remove("disabled")),t){const r=`tier-${t}`;d(r)?e.classList.add("interested"):e.classList.remove("interested")}})}document.addEventListener("DOMContentLoaded",function(){o(),f(),I(),l()});window.addEventListener("itemsChange",function(){o(),l()});document.addEventListener("interested-items-changed",function(){o(),l()});

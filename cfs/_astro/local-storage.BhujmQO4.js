const i="interestItems";function s(){if(typeof window>"u")return;const e=new CustomEvent("itemsChange",{detail:{items:r()}});window.dispatchEvent(e)}function r(){if(typeof window>"u")return[];try{const e=localStorage.getItem(i);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting interested items from localStorage:",e),[]}}function a(e){if(typeof window>"u")return!1;try{const t=r();return t.findIndex(o=>o.id===e.id)===-1?(t.push(e),window.dataLayer.push({event:"save_item",item:e.title||"unknown",lang:document.documentElement.lang||"unknown",page_path:window.location.pathname}),localStorage.setItem(i,JSON.stringify(t)),s(),!0):!1}catch(t){return console.error("Error adding interested item to localStorage:",t),!1}}function d(e){if(typeof window>"u")return!1;try{const n=r().filter(o=>o.id!==e);return localStorage.setItem(i,JSON.stringify(n)),s(),!0}catch(t){return console.error("Error removing interested item from localStorage:",t),!1}}function f(e){return typeof window>"u"?!1:r().some(n=>n.id===e)}export{a,r as g,f as i,d as r};

import{i as a,r as c,a as u}from"./local-storage.yZB-lsyX.js";function d(){document.querySelectorAll(".plan-row").forEach(t=>{const e=t.getAttribute("data-row-id");if(e){const i=a(e);t.querySelectorAll(".plan-cell").forEach(n=>{if(i){const s=n.textContent?.trim();s===""||s==="—"||s==="-"||s?.includes("不適用")||s?.includes("N/A")?n.classList.remove("highlighted"):n.classList.add("highlighted")}else n.classList.remove("highlighted")})}})}function m(){document.querySelectorAll(".plan-row").forEach(t=>{const e=t.getAttribute("data-row-id");e&&(t.style.cursor="pointer",t.addEventListener("click",function(i){i.stopPropagation();const o=`plan-popup-${e}`;popupCtrl(o,"open")}))})}function p(){JSON.parse(localStorage.getItem("interestItems")||"[]").filter(e=>e.id.startsWith("tier-")).forEach(e=>{c(e.id)})}function f(){document.querySelectorAll(".tier-interest-button").forEach(t=>{const e=t.getAttribute("data-tier-name"),i=t.getAttribute("data-tier-title");e&&i&&t.addEventListener("click",function(o){o.stopPropagation();const n={id:`tier-${e}`,title:i,category:"plan",image:"",deadline:""};a(n.id)?(c(n.id),t.classList.remove("interested")):(p(),u(n),t.classList.add("interested"))})})}function l(){document.querySelectorAll(".tier-interest-button").forEach(t=>{const e=t.getAttribute("data-tier-name");if(e){const i=`tier-${e}`;a(i)?t.classList.add("interested"):t.classList.remove("interested")}})}document.addEventListener("DOMContentLoaded",function(){d(),m(),f(),l()});window.addEventListener("itemsChange",function(){d(),l()});document.addEventListener("interested-items-changed",function(){d(),l()});

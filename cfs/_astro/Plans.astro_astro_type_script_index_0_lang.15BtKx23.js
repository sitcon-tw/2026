import{i as a,r as l,a as c}from"./local-storage.CNRxCPsY.js";function o(){document.querySelectorAll(".plan-cell").forEach(t=>{const e=t.getAttribute("data-item-id");if(e&&e!==""){const i=a(e),n=t.textContent?.trim();i&&!(n===""||n==="â€”"||n==="-")?t.classList.add("highlighted"):t.classList.remove("highlighted")}})}function m(){document.querySelectorAll(".plan-row").forEach(t=>{const e=t.getAttribute("data-row-id"),i=t.getAttribute("data-is-available")==="true";e&&i&&(t.style.cursor="pointer",t.addEventListener("click",function(n){n.stopPropagation();const s=`item-popup-${e}`;popupCtrl(s,"open")}))})}function u(){JSON.parse(localStorage.getItem("interestItems")||"[]").filter(e=>e.id.startsWith("tier-")).forEach(e=>{l(e.id)})}function p(){document.querySelectorAll(".tier-interest-button").forEach(t=>{const e=t.getAttribute("data-tier-name"),i=t.getAttribute("data-tier-title");e&&i&&t.addEventListener("click",function(n){n.stopPropagation();const s={id:`tier-${e}`,title:i,category:"plan",image:"",deadline:""};a(s.id)?(l(s.id),t.classList.remove("interested")):(u(),c(s),t.classList.add("interested"))})})}function d(){document.querySelectorAll(".tier-interest-button").forEach(t=>{const e=t.getAttribute("data-tier-name");if(e){const i=`tier-${e}`;a(i)?t.classList.add("interested"):t.classList.remove("interested")}})}document.addEventListener("DOMContentLoaded",function(){o(),m(),p(),d()});window.addEventListener("itemsChange",function(){o(),d()});document.addEventListener("interested-items-changed",function(){o(),d()});

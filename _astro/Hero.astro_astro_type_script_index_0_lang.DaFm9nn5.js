import{u as Nt,w as Lt,aw as ft,p as q,V as it,ax as Ot,ay as Gt,az as Rt,aA as gt,ac as Vt,aB as xt,i as Wt,aC as ct,c as Bt,d as Ht,W as zt,A as qt,D as Ft,G as Dt,aD as Ut,aE as Xt,aF as jt,C as Yt,M as At,aG as Jt,P as Qt,g as Zt,aH as Kt,aI as $t,aJ as wt,x as Tt,E as _t}from"./three.module.DZY0t9pF.js";import{g as te}from"./index.CB87Sc6I.js";import{S as ee}from"./ScrollTrigger.Cv03IO65.js";const ne=Wt;class ut extends Nt{constructor(O){super(O),this.defaultDPI=90,this.defaultUnit="px"}load(O,B,E,k){const I=this,Q=new Lt(I.manager);Q.setPath(I.path),Q.setRequestHeader(I.requestHeader),Q.setWithCredentials(I.withCredentials),Q.load(O,function($){try{B(I.parse($))}catch(Y){k?k(Y):console.error(Y),I.manager.itemError(O)}},E,k)}parse(O){const B=this;function E(i,s){if(i.nodeType!==1)return;const e=M(i);let t=!1,l=null;switch(i.nodeName){case"svg":s=F(i,s);break;case"style":I(i);break;case"g":s=F(i,s);break;case"path":s=F(i,s),i.hasAttribute("d")&&(l=k(i));break;case"rect":s=F(i,s),l=Y(i);break;case"polygon":s=F(i,s),l=D(i);break;case"polyline":s=F(i,s),l=K(i);break;case"circle":s=F(i,s),l=W(i);break;case"ellipse":s=F(i,s),l=R(i);break;case"line":s=F(i,s),l=nt(i);break;case"defs":t=!0;break;case"use":s=F(i,s);const m=(i.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),u=i.viewportElement.getElementById(m);u?E(u,s):console.warn("SVGLoader: 'use node' references non-existent node id: "+m);break}l&&(s.fill!==void 0&&s.fill!=="none"&&l.color.setStyle(s.fill,ne),N(l,Z),P.push(l),l.userData={node:i,style:s});const d=i.childNodes;for(let a=0;a<d.length;a++){const m=d[a];t&&m.nodeName!=="style"&&m.nodeName!=="defs"||E(m,s)}e&&(z.pop(),z.length>0?Z.copy(z[z.length-1]):Z.identity())}function k(i){const s=new ct,e=new q,t=new q,l=new q;let d=!0,a=!1;const m=i.getAttribute("d");if(m===""||m==="none")return null;const u=m.match(/[a-df-z][^a-df-z]*/ig);for(let f=0,o=u.length;f<o;f++){const c=u[f],g=c.charAt(0),y=c.slice(1).trim();d===!0&&(a=!0,d=!1);let r;switch(g){case"M":r=x(y);for(let n=0,b=r.length;n<b;n+=2)e.x=r[n+0],e.y=r[n+1],t.x=e.x,t.y=e.y,n===0?s.moveTo(e.x,e.y):s.lineTo(e.x,e.y),n===0&&l.copy(e);break;case"H":r=x(y);for(let n=0,b=r.length;n<b;n++)e.x=r[n],t.x=e.x,t.y=e.y,s.lineTo(e.x,e.y),n===0&&a===!0&&l.copy(e);break;case"V":r=x(y);for(let n=0,b=r.length;n<b;n++)e.y=r[n],t.x=e.x,t.y=e.y,s.lineTo(e.x,e.y),n===0&&a===!0&&l.copy(e);break;case"L":r=x(y);for(let n=0,b=r.length;n<b;n+=2)e.x=r[n+0],e.y=r[n+1],t.x=e.x,t.y=e.y,s.lineTo(e.x,e.y),n===0&&a===!0&&l.copy(e);break;case"C":r=x(y);for(let n=0,b=r.length;n<b;n+=6)s.bezierCurveTo(r[n+0],r[n+1],r[n+2],r[n+3],r[n+4],r[n+5]),t.x=r[n+2],t.y=r[n+3],e.x=r[n+4],e.y=r[n+5],n===0&&a===!0&&l.copy(e);break;case"S":r=x(y);for(let n=0,b=r.length;n<b;n+=4)s.bezierCurveTo(w(e.x,t.x),w(e.y,t.y),r[n+0],r[n+1],r[n+2],r[n+3]),t.x=r[n+0],t.y=r[n+1],e.x=r[n+2],e.y=r[n+3],n===0&&a===!0&&l.copy(e);break;case"Q":r=x(y);for(let n=0,b=r.length;n<b;n+=4)s.quadraticCurveTo(r[n+0],r[n+1],r[n+2],r[n+3]),t.x=r[n+0],t.y=r[n+1],e.x=r[n+2],e.y=r[n+3],n===0&&a===!0&&l.copy(e);break;case"T":r=x(y);for(let n=0,b=r.length;n<b;n+=2){const V=w(e.x,t.x),ot=w(e.y,t.y);s.quadraticCurveTo(V,ot,r[n+0],r[n+1]),t.x=V,t.y=ot,e.x=r[n+0],e.y=r[n+1],n===0&&a===!0&&l.copy(e)}break;case"A":r=x(y,[3,4],7);for(let n=0,b=r.length;n<b;n+=7){if(r[n+5]==e.x&&r[n+6]==e.y)continue;const V=e.clone();e.x=r[n+5],e.y=r[n+6],t.x=e.x,t.y=e.y,Q(s,r[n],r[n+1],r[n+2],r[n+3],r[n+4],V,e),n===0&&a===!0&&l.copy(e)}break;case"m":r=x(y);for(let n=0,b=r.length;n<b;n+=2)e.x+=r[n+0],e.y+=r[n+1],t.x=e.x,t.y=e.y,n===0?s.moveTo(e.x,e.y):s.lineTo(e.x,e.y),n===0&&l.copy(e);break;case"h":r=x(y);for(let n=0,b=r.length;n<b;n++)e.x+=r[n],t.x=e.x,t.y=e.y,s.lineTo(e.x,e.y),n===0&&a===!0&&l.copy(e);break;case"v":r=x(y);for(let n=0,b=r.length;n<b;n++)e.y+=r[n],t.x=e.x,t.y=e.y,s.lineTo(e.x,e.y),n===0&&a===!0&&l.copy(e);break;case"l":r=x(y);for(let n=0,b=r.length;n<b;n+=2)e.x+=r[n+0],e.y+=r[n+1],t.x=e.x,t.y=e.y,s.lineTo(e.x,e.y),n===0&&a===!0&&l.copy(e);break;case"c":r=x(y);for(let n=0,b=r.length;n<b;n+=6)s.bezierCurveTo(e.x+r[n+0],e.y+r[n+1],e.x+r[n+2],e.y+r[n+3],e.x+r[n+4],e.y+r[n+5]),t.x=e.x+r[n+2],t.y=e.y+r[n+3],e.x+=r[n+4],e.y+=r[n+5],n===0&&a===!0&&l.copy(e);break;case"s":r=x(y);for(let n=0,b=r.length;n<b;n+=4)s.bezierCurveTo(w(e.x,t.x),w(e.y,t.y),e.x+r[n+0],e.y+r[n+1],e.x+r[n+2],e.y+r[n+3]),t.x=e.x+r[n+0],t.y=e.y+r[n+1],e.x+=r[n+2],e.y+=r[n+3],n===0&&a===!0&&l.copy(e);break;case"q":r=x(y);for(let n=0,b=r.length;n<b;n+=4)s.quadraticCurveTo(e.x+r[n+0],e.y+r[n+1],e.x+r[n+2],e.y+r[n+3]),t.x=e.x+r[n+0],t.y=e.y+r[n+1],e.x+=r[n+2],e.y+=r[n+3],n===0&&a===!0&&l.copy(e);break;case"t":r=x(y);for(let n=0,b=r.length;n<b;n+=2){const V=w(e.x,t.x),ot=w(e.y,t.y);s.quadraticCurveTo(V,ot,e.x+r[n+0],e.y+r[n+1]),t.x=V,t.y=ot,e.x=e.x+r[n+0],e.y=e.y+r[n+1],n===0&&a===!0&&l.copy(e)}break;case"a":r=x(y,[3,4],7);for(let n=0,b=r.length;n<b;n+=7){if(r[n+5]==0&&r[n+6]==0)continue;const V=e.clone();e.x+=r[n+5],e.y+=r[n+6],t.x=e.x,t.y=e.y,Q(s,r[n],r[n+1],r[n+2],r[n+3],r[n+4],V,e),n===0&&a===!0&&l.copy(e)}break;case"Z":case"z":s.currentPath.autoClose=!0,s.currentPath.curves.length>0&&(e.copy(l),s.currentPath.currentPoint.copy(e),d=!0);break;default:console.warn(c)}a=!1}return s}function I(i){if(!(!i.sheet||!i.sheet.cssRules||!i.sheet.cssRules.length))for(let s=0;s<i.sheet.cssRules.length;s++){const e=i.sheet.cssRules[s];if(e.type!==1)continue;const t=e.selectorText.split(/,/gm).filter(Boolean).map(l=>l.trim());for(let l=0;l<t.length;l++){const d=Object.fromEntries(Object.entries(e.style).filter(([,a])=>a!==""));X[t[l]]=Object.assign(X[t[l]]||{},d)}}}function Q(i,s,e,t,l,d,a,m){if(s==0||e==0){i.lineTo(m.x,m.y);return}t=t*Math.PI/180,s=Math.abs(s),e=Math.abs(e);const u=(a.x-m.x)/2,f=(a.y-m.y)/2,o=Math.cos(t)*u+Math.sin(t)*f,c=-Math.sin(t)*u+Math.cos(t)*f;let g=s*s,y=e*e;const r=o*o,n=c*c,b=r/g+n/y;if(b>1){const mt=Math.sqrt(b);s=mt*s,e=mt*e,g=s*s,y=e*e}const V=g*n+y*r,ot=(g*y-V)/V;let rt=Math.sqrt(Math.max(0,ot));l===d&&(rt=-rt);const et=rt*s*c/e,at=-rt*e*o/s,pt=Math.cos(t)*et-Math.sin(t)*at+(a.x+m.x)/2,Pt=Math.sin(t)*et+Math.cos(t)*at+(a.y+m.y)/2,dt=$(1,0,(o-et)/s,(c-at)/e),yt=$((o-et)/s,(c-at)/e,(-o-et)/s,(-c-at)/e)%(Math.PI*2);i.currentPath.absellipse(pt,Pt,s,e,dt,dt+yt,d===0,t)}function $(i,s,e,t){const l=i*e+s*t,d=Math.sqrt(i*i+s*s)*Math.sqrt(e*e+t*t);let a=Math.acos(Math.max(-1,Math.min(1,l/d)));return i*t-s*e<0&&(a=-a),a}function Y(i){const s=h(i.getAttribute("x")||0),e=h(i.getAttribute("y")||0),t=h(i.getAttribute("rx")||i.getAttribute("ry")||0),l=h(i.getAttribute("ry")||i.getAttribute("rx")||0),d=h(i.getAttribute("width")),a=h(i.getAttribute("height")),m=1-.551915024494,u=new ct;return u.moveTo(s+t,e),u.lineTo(s+d-t,e),(t!==0||l!==0)&&u.bezierCurveTo(s+d-t*m,e,s+d,e+l*m,s+d,e+l),u.lineTo(s+d,e+a-l),(t!==0||l!==0)&&u.bezierCurveTo(s+d,e+a-l*m,s+d-t*m,e+a,s+d-t,e+a),u.lineTo(s+t,e+a),(t!==0||l!==0)&&u.bezierCurveTo(s+t*m,e+a,s,e+a-l*m,s,e+a-l),u.lineTo(s,e+l),(t!==0||l!==0)&&u.bezierCurveTo(s,e+l*m,s+t*m,e,s+t,e),u}function D(i){function s(d,a,m){const u=h(a),f=h(m);l===0?t.moveTo(u,f):t.lineTo(u,f),l++}const e=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,t=new ct;let l=0;return i.getAttribute("points").replace(e,s),t.currentPath.autoClose=!0,t}function K(i){function s(d,a,m){const u=h(a),f=h(m);l===0?t.moveTo(u,f):t.lineTo(u,f),l++}const e=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,t=new ct;let l=0;return i.getAttribute("points").replace(e,s),t.currentPath.autoClose=!1,t}function W(i){const s=h(i.getAttribute("cx")||0),e=h(i.getAttribute("cy")||0),t=h(i.getAttribute("r")||0),l=new gt;l.absarc(s,e,t,0,Math.PI*2);const d=new ct;return d.subPaths.push(l),d}function R(i){const s=h(i.getAttribute("cx")||0),e=h(i.getAttribute("cy")||0),t=h(i.getAttribute("rx")||0),l=h(i.getAttribute("ry")||0),d=new gt;d.absellipse(s,e,t,l,0,Math.PI*2);const a=new ct;return a.subPaths.push(d),a}function nt(i){const s=h(i.getAttribute("x1")||0),e=h(i.getAttribute("y1")||0),t=h(i.getAttribute("x2")||0),l=h(i.getAttribute("y2")||0),d=new ct;return d.moveTo(s,e),d.lineTo(t,l),d.currentPath.autoClose=!1,d}function F(i,s){s=Object.assign({},s);let e={};if(i.hasAttribute("class")){const a=i.getAttribute("class").split(/\s/).filter(Boolean).map(m=>m.trim());for(let m=0;m<a.length;m++)e=Object.assign(e,X["."+a[m]])}i.hasAttribute("id")&&(e=Object.assign(e,X["#"+i.getAttribute("id")]));function t(a,m,u){u===void 0&&(u=function(o){return o.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),o}),i.hasAttribute(a)&&(s[m]=u(i.getAttribute(a))),e[m]&&(s[m]=u(e[m])),i.style&&i.style[a]!==""&&(s[m]=u(i.style[a]))}function l(a){return Math.max(0,Math.min(1,h(a)))}function d(a){return Math.max(0,h(a))}return t("fill","fill"),t("fill-opacity","fillOpacity",l),t("fill-rule","fillRule"),t("opacity","opacity",l),t("stroke","stroke"),t("stroke-opacity","strokeOpacity",l),t("stroke-width","strokeWidth",d),t("stroke-linejoin","strokeLineJoin"),t("stroke-linecap","strokeLineCap"),t("stroke-miterlimit","strokeMiterLimit",d),t("visibility","visibility"),s}function w(i,s){return i-(s-i)}function x(i,s,e){if(typeof i!="string")throw new TypeError("Invalid input: "+typeof i);const t={WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},l=0,d=1,a=2,m=3;let u=l,f=!0,o="",c="";const g=[];function y(V,ot,rt){const et=new SyntaxError('Unexpected character "'+V+'" at index '+ot+".");throw et.partial=rt,et}function r(){o!==""&&(c===""?g.push(Number(o)):g.push(Number(o)*Math.pow(10,Number(c)))),o="",c=""}let n;const b=i.length;for(let V=0;V<b;V++){if(n=i[V],Array.isArray(s)&&s.includes(g.length%e)&&t.FLAGS.test(n)){u=d,o=n,r();continue}if(u===l){if(t.WHITESPACE.test(n))continue;if(t.DIGIT.test(n)||t.SIGN.test(n)){u=d,o=n;continue}if(t.POINT.test(n)){u=a,o=n;continue}t.COMMA.test(n)&&(f&&y(n,V,g),f=!0)}if(u===d){if(t.DIGIT.test(n)){o+=n;continue}if(t.POINT.test(n)){o+=n,u=a;continue}if(t.EXP.test(n)){u=m;continue}t.SIGN.test(n)&&o.length===1&&t.SIGN.test(o[0])&&y(n,V,g)}if(u===a){if(t.DIGIT.test(n)){o+=n;continue}if(t.EXP.test(n)){u=m;continue}t.POINT.test(n)&&o[o.length-1]==="."&&y(n,V,g)}if(u===m){if(t.DIGIT.test(n)){c+=n;continue}if(t.SIGN.test(n)){if(c===""){c+=n;continue}c.length===1&&t.SIGN.test(c)&&y(n,V,g)}}t.WHITESPACE.test(n)?(r(),u=l,f=!1):t.COMMA.test(n)?(r(),u=l,f=!0):t.SIGN.test(n)?(r(),u=d,o=n):t.POINT.test(n)?(r(),u=a,o=n):y(n,V,g)}return r(),g}const S=["mm","cm","in","pt","pc","px"],L={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function h(i){let s="px";if(typeof i=="string"||i instanceof String)for(let t=0,l=S.length;t<l;t++){const d=S[t];if(i.endsWith(d)){s=d,i=i.substring(0,i.length-d.length);break}}let e;return s==="px"&&B.defaultUnit!=="px"?e=L.in[B.defaultUnit]/B.defaultDPI:(e=L[s][B.defaultUnit],e<0&&(e=L[s].in*B.defaultDPI)),e*parseFloat(i)}function M(i){if(!(i.hasAttribute("transform")||i.nodeName==="use"&&(i.hasAttribute("x")||i.hasAttribute("y"))))return null;const s=A(i);return z.length>0&&s.premultiply(z[z.length-1]),Z.copy(s),z.push(s),s}function A(i){const s=new ft,e=tt;if(i.nodeName==="use"&&(i.hasAttribute("x")||i.hasAttribute("y"))){const t=h(i.getAttribute("x")||0),l=h(i.getAttribute("y")||0);s.translate(t,l)}if(i.hasAttribute("transform")){const t=i.getAttribute("transform").split(")");for(let l=t.length-1;l>=0;l--){const d=t[l].trim();if(d==="")continue;const a=d.indexOf("("),m=d.length;if(a>0&&a<m){const u=d.slice(0,a),f=x(d.slice(a+1));switch(e.identity(),u){case"translate":if(f.length>=1){const o=f[0];let c=0;f.length>=2&&(c=f[1]),e.translate(o,c)}break;case"rotate":if(f.length>=1){let o=0,c=0,g=0;o=f[0]*Math.PI/180,f.length>=3&&(c=f[1],g=f[2]),j.makeTranslation(-c,-g),v.makeRotation(o),p.multiplyMatrices(v,j),j.makeTranslation(c,g),e.multiplyMatrices(j,p)}break;case"scale":if(f.length>=1){const o=f[0];let c=o;f.length>=2&&(c=f[1]),e.scale(o,c)}break;case"skewX":f.length===1&&e.set(1,Math.tan(f[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":f.length===1&&e.set(1,0,0,Math.tan(f[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":f.length===6&&e.set(f[0],f[2],f[4],f[1],f[3],f[5],0,0,1);break}}s.premultiply(e)}}return s}function N(i,s){function e(a){U.set(a.x,a.y,1).applyMatrix3(s),a.set(U.x,U.y)}function t(a){const m=a.xRadius,u=a.yRadius,f=Math.cos(a.aRotation),o=Math.sin(a.aRotation),c=new it(m*f,m*o,0),g=new it(-u*o,u*f,0),y=c.applyMatrix3(s),r=g.applyMatrix3(s),n=tt.set(y.x,r.x,0,y.y,r.y,0,0,0,1),b=j.copy(n).invert(),rt=v.copy(b).transpose().multiply(b).elements,et=_(rt[0],rt[1],rt[4]),at=Math.sqrt(et.rt1),pt=Math.sqrt(et.rt2);if(a.xRadius=1/at,a.yRadius=1/pt,a.aRotation=Math.atan2(et.sn,et.cs),!((a.aEndAngle-a.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const dt=j.set(at,0,0,0,pt,0,0,0,1),yt=v.set(et.cs,et.sn,0,-et.sn,et.cs,0,0,0,1),mt=dt.multiply(yt).multiply(n),St=It=>{const{x:Ct,y:vt}=new it(Math.cos(It),Math.sin(It),0).applyMatrix3(mt);return Math.atan2(vt,Ct)};a.aStartAngle=St(a.aStartAngle),a.aEndAngle=St(a.aEndAngle),C(s)&&(a.aClockwise=!a.aClockwise)}}function l(a){const m=G(s),u=H(s);a.xRadius*=m,a.yRadius*=u;const f=m>Number.EPSILON?Math.atan2(s.elements[1],s.elements[0]):Math.atan2(-s.elements[3],s.elements[4]);a.aRotation+=f,C(s)&&(a.aStartAngle*=-1,a.aEndAngle*=-1,a.aClockwise=!a.aClockwise)}const d=i.subPaths;for(let a=0,m=d.length;a<m;a++){const f=d[a].curves;for(let o=0;o<f.length;o++){const c=f[o];c.isLineCurve?(e(c.v1),e(c.v2)):c.isCubicBezierCurve?(e(c.v0),e(c.v1),e(c.v2),e(c.v3)):c.isQuadraticBezierCurve?(e(c.v0),e(c.v1),e(c.v2)):c.isEllipseCurve&&(J.set(c.aX,c.aY),e(J),c.aX=J.x,c.aY=J.y,T(s)?t(c):l(c))}}}function C(i){const s=i.elements;return s[0]*s[4]-s[1]*s[3]<0}function T(i){const s=i.elements,e=s[0]*s[3]+s[1]*s[4];if(e===0)return!1;const t=G(i),l=H(i);return Math.abs(e/(t*l))>Number.EPSILON}function G(i){const s=i.elements;return Math.sqrt(s[0]*s[0]+s[1]*s[1])}function H(i){const s=i.elements;return Math.sqrt(s[3]*s[3]+s[4]*s[4])}function _(i,s,e){let t,l,d,a,m;const u=i+e,f=i-e,o=Math.sqrt(f*f+4*s*s);return u>0?(t=.5*(u+o),m=1/t,l=i*m*e-s*m*s):u<0?l=.5*(u-o):(t=.5*o,l=-.5*o),f>0?d=f+o:d=f-o,Math.abs(d)>2*Math.abs(s)?(m=-2*s/d,a=1/Math.sqrt(1+m*m),d=m*a):Math.abs(s)===0?(d=1,a=0):(m=-.5*d/s,d=1/Math.sqrt(1+m*m),a=m*d),f>0&&(m=d,d=-a,a=m),{rt1:t,rt2:l,cs:d,sn:a}}const P=[],X={},z=[],tt=new ft,j=new ft,v=new ft,p=new ft,J=new q,U=new it,Z=new ft,st=new DOMParser().parseFromString(O,"image/svg+xml");return E(st.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:P,xml:st.documentElement}}static createShapes(O){const E={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},k={loc:E.ORIGIN,t:0};function I(w,x,S,L){const h=w.x,M=x.x,A=S.x,N=L.x,C=w.y,T=x.y,G=S.y,H=L.y,_=(N-A)*(C-G)-(H-G)*(h-A),P=(M-h)*(C-G)-(T-C)*(h-A),X=(H-G)*(M-h)-(N-A)*(T-C),z=_/X,tt=P/X;if(X===0&&_!==0||z<=0||z>=1||tt<0||tt>1)return null;if(_===0&&X===0){for(let j=0;j<2;j++)if(Q(j===0?S:L,w,x),k.loc==E.ORIGIN){const v=j===0?S:L;return{x:v.x,y:v.y,t:k.t}}else if(k.loc==E.BETWEEN){const v=+(h+k.t*(M-h)).toPrecision(10),p=+(C+k.t*(T-C)).toPrecision(10);return{x:v,y:p,t:k.t}}return null}else{for(let p=0;p<2;p++)if(Q(p===0?S:L,w,x),k.loc==E.ORIGIN){const J=p===0?S:L;return{x:J.x,y:J.y,t:k.t}}const j=+(h+z*(M-h)).toPrecision(10),v=+(C+z*(T-C)).toPrecision(10);return{x:j,y:v,t:z}}}function Q(w,x,S){const L=S.x-x.x,h=S.y-x.y,M=w.x-x.x,A=w.y-x.y,N=L*A-M*h;if(w.x===x.x&&w.y===x.y){k.loc=E.ORIGIN,k.t=0;return}if(w.x===S.x&&w.y===S.y){k.loc=E.DESTINATION,k.t=1;return}if(N<-Number.EPSILON){k.loc=E.LEFT;return}if(N>Number.EPSILON){k.loc=E.RIGHT;return}if(L*M<0||h*A<0){k.loc=E.BEHIND;return}if(Math.sqrt(L*L+h*h)<Math.sqrt(M*M+A*A)){k.loc=E.BEYOND;return}let C;L!==0?C=M/L:C=A/h,k.loc=E.BETWEEN,k.t=C}function $(w,x){const S=[],L=[];for(let h=1;h<w.length;h++){const M=w[h-1],A=w[h];for(let N=1;N<x.length;N++){const C=x[N-1],T=x[N],G=I(M,A,C,T);G!==null&&S.find(H=>H.t<=G.t+Number.EPSILON&&H.t>=G.t-Number.EPSILON)===void 0&&(S.push(G),L.push(new q(G.x,G.y)))}}return L}function Y(w,x,S){const L=new q;x.getCenter(L);const h=[];return S.forEach(M=>{M.boundingBox.containsPoint(L)&&$(w,M.points).forEach(N=>{h.push({identifier:M.identifier,isCW:M.isCW,point:N})})}),h.sort((M,A)=>M.point.x-A.point.x),h}function D(w,x,S,L,h){(h==null||h==="")&&(h="nonzero");const M=new q;w.boundingBox.getCenter(M);const A=[new q(S,M.y),new q(L,M.y)],N=Y(A,w.boundingBox,x);N.sort((P,X)=>P.point.x-X.point.x);const C=[],T=[];N.forEach(P=>{P.identifier===w.identifier?C.push(P):T.push(P)});const G=C[0].point.x,H=[];let _=0;for(;_<T.length&&T[_].point.x<G;)H.length>0&&H[H.length-1]===T[_].identifier?H.pop():H.push(T[_].identifier),_++;if(H.push(w.identifier),h==="evenodd"){const P=H.length%2===0,X=H[H.length-2];return{identifier:w.identifier,isHole:P,for:X}}else if(h==="nonzero"){let P=!0,X=null,z=null;for(let tt=0;tt<H.length;tt++){const j=H[tt];P?(z=x[j].isCW,P=!1,X=j):z!==x[j].isCW&&(z=x[j].isCW,P=!0)}return{identifier:w.identifier,isHole:P,for:X}}else console.warn('fill-rule: "'+h+'" is currently not implemented.')}let K=999999999,W=-999999999,R=O.subPaths.map(w=>{const x=w.getPoints();let S=-999999999,L=999999999,h=-999999999,M=999999999;for(let A=0;A<x.length;A++){const N=x[A];N.y>S&&(S=N.y),N.y<L&&(L=N.y),N.x>h&&(h=N.x),N.x<M&&(M=N.x)}return W<=h&&(W=h+1),K>=M&&(K=M-1),{curves:w.curves,points:x,isCW:Gt.isClockWise(x),identifier:-1,boundingBox:new Ot(new q(M,L),new q(h,S))}});R=R.filter(w=>w.points.length>1);for(let w=0;w<R.length;w++)R[w].identifier=w;const nt=R.map(w=>D(w,R,K,W,O.userData?O.userData.style.fillRule:void 0)),F=[];return R.forEach(w=>{if(!nt[w.identifier].isHole){const S=new Rt;S.curves=w.curves,nt.filter(h=>h.isHole&&h.for===w.identifier).forEach(h=>{const M=R[h.identifier],A=new gt;A.curves=M.curves,S.holes.push(A)}),F.push(S)}}),F}static getStrokeStyle(O,B,E,k,I){return O=O!==void 0?O:1,B=B!==void 0?B:"#000",E=E!==void 0?E:"miter",k=k!==void 0?k:"butt",I=I!==void 0?I:4,{strokeColor:B,strokeWidth:O,strokeLineJoin:E,strokeLineCap:k,strokeMiterLimit:I}}static pointsToStroke(O,B,E,k){const I=[],Q=[],$=[];if(ut.pointsToStrokeWithBuffers(O,B,E,k,I,Q,$)===0)return null;const Y=new Vt;return Y.setAttribute("position",new xt(I,3)),Y.setAttribute("normal",new xt(Q,3)),Y.setAttribute("uv",new xt($,2)),Y}static pointsToStrokeWithBuffers(O,B,E,k,I,Q,$,Y){const D=new q,K=new q,W=new q,R=new q,nt=new q,F=new q,w=new q,x=new q,S=new q,L=new q,h=new q,M=new q,A=new q,N=new q,C=new q,T=new q,G=new q;E=E!==void 0?E:12,k=k!==void 0?k:.001,Y=Y!==void 0?Y:0,O=f(O);const H=O.length;if(H<2)return 0;const _=O[0].equals(O[H-1]);let P,X=O[0],z;const tt=B.strokeWidth/2,j=1/(H-1);let v=0,p,J,U,Z,st=!1,lt=0,i=Y*3,s=Y*2;e(O[0],O[1],D).multiplyScalar(tt),x.copy(O[0]).sub(D),S.copy(O[0]).add(D),L.copy(x),h.copy(S);for(let o=1;o<H;o++){P=O[o],o===H-1?_?z=O[1]:z=void 0:z=O[o+1];const c=D;if(e(X,P,c),W.copy(c).multiplyScalar(tt),M.copy(P).sub(W),A.copy(P).add(W),p=v+j,J=!1,z!==void 0){e(P,z,K),W.copy(K).multiplyScalar(tt),N.copy(P).sub(W),C.copy(P).add(W),U=!0,W.subVectors(z,X),c.dot(W)<0&&(U=!1),o===1&&(st=U),W.subVectors(z,P),W.normalize();const g=Math.abs(c.dot(W));if(g>Number.EPSILON){const y=tt/g;W.multiplyScalar(-y),R.subVectors(P,X),nt.copy(R).setLength(y).add(W),T.copy(nt).negate();const r=nt.length(),n=R.length();R.divideScalar(n),F.subVectors(z,P);const b=F.length();switch(F.divideScalar(b),R.dot(T)<n&&F.dot(T)<b&&(J=!0),G.copy(nt).add(P),T.add(P),Z=!1,J?U?(C.copy(T),A.copy(T)):(N.copy(T),M.copy(T)):d(),B.strokeLineJoin){case"bevel":a(U,J,p);break;case"round":m(U,J),U?l(P,M,N,p,0):l(P,C,A,p,1);break;case"miter":case"miter-clip":default:const V=tt*B.strokeMiterLimit/r;if(V<1)if(B.strokeLineJoin!=="miter-clip"){a(U,J,p);break}else m(U,J),U?(F.subVectors(G,M).multiplyScalar(V).add(M),w.subVectors(G,N).multiplyScalar(V).add(N),t(M,p,0),t(F,p,0),t(P,p,.5),t(P,p,.5),t(F,p,0),t(w,p,0),t(P,p,.5),t(w,p,0),t(N,p,0)):(F.subVectors(G,A).multiplyScalar(V).add(A),w.subVectors(G,C).multiplyScalar(V).add(C),t(A,p,1),t(F,p,1),t(P,p,.5),t(P,p,.5),t(F,p,1),t(w,p,1),t(P,p,.5),t(w,p,1),t(C,p,1));else J?(U?(t(S,v,1),t(x,v,0),t(G,p,0),t(S,v,1),t(G,p,0),t(T,p,1)):(t(S,v,1),t(x,v,0),t(G,p,1),t(x,v,0),t(T,p,0),t(G,p,1)),U?N.copy(G):C.copy(G)):U?(t(M,p,0),t(G,p,0),t(P,p,.5),t(P,p,.5),t(G,p,0),t(N,p,0)):(t(A,p,1),t(G,p,1),t(P,p,.5),t(P,p,.5),t(G,p,1),t(C,p,1)),Z=!0;break}}else d()}else d();!_&&o===H-1&&u(O[0],L,h,U,!0,v),v=p,X=P,x.copy(N),S.copy(C)}if(!_)u(P,M,A,U,!1,p);else if(J&&I){let o=G,c=T;st!==U&&(o=T,c=G),U?(Z||st)&&(c.toArray(I,0),c.toArray(I,9),Z&&o.toArray(I,3)):(Z||!st)&&(c.toArray(I,3),c.toArray(I,9),Z&&o.toArray(I,0))}return lt;function e(o,c,g){return g.subVectors(c,o),g.set(-g.y,g.x).normalize()}function t(o,c,g){I&&(I[i]=o.x,I[i+1]=o.y,I[i+2]=0,Q&&(Q[i]=0,Q[i+1]=0,Q[i+2]=1),i+=3,$&&($[s]=c,$[s+1]=g,s+=2)),lt+=3}function l(o,c,g,y,r){D.copy(c).sub(o).normalize(),K.copy(g).sub(o).normalize();let n=Math.PI;const b=D.dot(K);Math.abs(b)<1&&(n=Math.abs(Math.acos(b))),n/=E,W.copy(c);for(let V=0,ot=E-1;V<ot;V++)R.copy(W).rotateAround(o,n),t(W,y,r),t(R,y,r),t(o,y,.5),W.copy(R);t(R,y,r),t(g,y,r),t(o,y,.5)}function d(){t(S,v,1),t(x,v,0),t(M,p,0),t(S,v,1),t(M,p,0),t(A,p,1)}function a(o,c,g){c?o?(t(S,v,1),t(x,v,0),t(M,p,0),t(S,v,1),t(M,p,0),t(T,p,1),t(M,g,0),t(N,g,0),t(T,g,.5)):(t(S,v,1),t(x,v,0),t(A,p,1),t(x,v,0),t(T,p,0),t(A,p,1),t(A,g,1),t(T,g,0),t(C,g,1)):o?(t(M,g,0),t(N,g,0),t(P,g,.5)):(t(A,g,1),t(C,g,0),t(P,g,.5))}function m(o,c){c&&(o?(t(S,v,1),t(x,v,0),t(M,p,0),t(S,v,1),t(M,p,0),t(T,p,1),t(M,v,0),t(P,p,.5),t(T,p,1),t(P,p,.5),t(N,v,0),t(T,p,1)):(t(S,v,1),t(x,v,0),t(A,p,1),t(x,v,0),t(T,p,0),t(A,p,1),t(A,v,1),t(T,p,0),t(P,p,.5),t(P,p,.5),t(T,p,0),t(C,v,1)))}function u(o,c,g,y,r,n){switch(B.strokeLineCap){case"round":r?l(o,g,c,n,.5):l(o,c,g,n,.5);break;case"square":if(r)D.subVectors(c,o),K.set(D.y,-D.x),W.addVectors(D,K).add(o),R.subVectors(K,D).add(o),y?(W.toArray(I,3),R.toArray(I,0),R.toArray(I,9)):(W.toArray(I,3),$[7]===1?R.toArray(I,9):W.toArray(I,9),R.toArray(I,0));else{D.subVectors(g,o),K.set(D.y,-D.x),W.addVectors(D,K).add(o),R.subVectors(K,D).add(o);const b=I.length;y?(W.toArray(I,b-3),R.toArray(I,b-6),R.toArray(I,b-12)):(R.toArray(I,b-6),W.toArray(I,b-3),R.toArray(I,b-12))}break}}function f(o){let c=!1;for(let y=1,r=o.length-1;y<r;y++)if(o[y].distanceTo(o[y+1])<k){c=!0;break}if(!c)return o;const g=[];g.push(o[0]);for(let y=1,r=o.length-1;y<r;y++)o[y].distanceTo(o[y+1])>=k&&g.push(o[y]);return g.push(o[o.length-1]),g}}}te.registerPlugin(ee);const se=()=>{const ht=document.getElementById("bg-canvas"),O=document.querySelector(".hero-container");if(!ht||!O)return()=>{};if(O.dataset.heroInit==="true")return()=>{};O.dataset.heroInit="true";const B=new Bt,E=new Ht(75,window.innerWidth/window.innerHeight,.1,1e3);E.position.set(0,0,0);const k=new zt({canvas:ht,alpha:!0,antialias:!0});k.setSize(window.innerWidth,window.innerHeight),k.setPixelRatio(Math.min(window.devicePixelRatio,2));const I=new it,Q=new qt(16777215,1);B.add(Q);const $=new Ft(16777215,4);$.position.set(5,10,-5),B.add($);const Y={radius:50,height:120,wraps:2},D=(u,f=0)=>{const o=u*Math.PI*2*Y.wraps+f,c=Y.radius*Math.cos(o),g=(u-.5)*Y.height,y=Y.radius*Math.sin(o);return new it(c,g,y)},K=new Dt,W=120,R=[],nt=new Ut(.01,.2,25,8);nt.translate(0,12.5,0),nt.rotateX(-Math.PI/2);const F=new Xt({uniforms:{color:{value:new Yt(14540253)},opacity:{value:.8}},vertexShader:`
				varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
				}
			`,fragmentShader:`
				varying vec2 vUv;
				uniform vec3 color;
				uniform float opacity;
				void main() {
					// vUv.y is from 0 (head) to 1 (tail)
					// Smooth head, long fading tail
					float alpha = smoothstep(0.0, 0.05, vUv.y) * pow(1.0 - vUv.y, 3.0);
					// Add a core brightness
					gl_FragColor = vec4(color, alpha * opacity);
				}
			`,transparent:!0,blending:jt,depthWrite:!1});for(let u=0;u<W;u++){const f=new At(nt,F.clone());K.add(f),R.push({mesh:f,speed:.001+Math.random()*.002,progress:Math.random(),offset:Math.random()*Math.PI*2})}B.add(K);const w=[],x=10,S=(u,f,o,c,g)=>{for(let y=0;y<o;y++){const r=new At(u,f),n=c[0]+Math.random()*(c[1]-c[0]);r.scale.setScalar(n),B.add(r),w.push({mesh:r,pathProgress:Math.random(),pathOffset:Math.random()*Math.PI*2,speed:g[0]+Math.random()*(g[1]-g[0]),isDragging:!1,targetPos:new it,rotationSpeed:new _t(Math.random()*.01,Math.random()*.01,Math.random()*.01),baseScale:n})}},L=new Jt,h=new q,M=new Qt,A=new it,N=new it;let C=null;const T=u=>new Tt({color:u,metalness:.5,roughness:.2,reflectivity:.8,clearcoat:1,clearcoatRoughness:.05,envMapIntensity:1.2}),G=new ut,H=new Zt(2,2,2),_=new Kt(1.2,4),P=new $t(1,.4,32,48),X=T(14329120),z=T(14671839),tt=T(13399842);S(H,X,25,[1,1.8],[4e-4,8e-4]),S(_,z,25,[1.2,2.2],[4e-4,8e-4]),S(P,tt,20,[1,1.6],[4e-4,8e-4]),G.load("/2026/img/Hero/round-metal.svg",u=>{const f=[];u.paths.forEach(y=>f.push(...ut.createShapes(y)));const o=new wt(f,{depth:15,bevelEnabled:!0});o.center(),o.rotateX(Math.PI);const c=u.paths[0]?.color||14329120,g=T(c);S(o,g,x,[.03,.07],[3e-4,6e-4])}),G.load("/2026/img/Hero/stone-metal.svg",u=>{const f=[];u.paths.forEach(y=>f.push(...ut.createShapes(y)));const o=new wt(f,{depth:18,bevelEnabled:!0});o.center(),o.rotateX(Math.PI);const c=u.paths[0]?.color||14671839,g=T(c);S(o,g,x,[.04,.09],[3e-4,6e-4])}),G.load("/2026/img/Hero/star-metal.svg",u=>{const f=[];u.paths.forEach(y=>f.push(...ut.createShapes(y)));const o=new wt(f,{depth:12,bevelEnabled:!0});o.center(),o.rotateX(Math.PI);const c=u.paths[0]?.color||16777215,g=T(c);S(o,g,x,[.05,.12],[3e-4,6e-4])});const j=u=>{h.x=u.clientX/window.innerWidth*2-1,h.y=-(u.clientY/window.innerHeight)*2+1,L.setFromCamera(h,E);const f=L.intersectObjects(w.map(o=>o.mesh),!0);if(f.length>0){let o=f[0].object;for(;o.parent&&o.parent!==B;)o=o.parent;C=w.find(c=>c.mesh===o)||null,C&&(C.isDragging=!0,ht.style.cursor="grabbing",M.setFromNormalAndCoplanarPoint(E.getWorldDirection(new it).negate(),f[0].point),L.ray.intersectPlane(M,A)&&N.copy(A).sub(o.position))}},v=u=>{if(h.x=u.clientX/window.innerWidth*2-1,h.y=-(u.clientY/window.innerHeight)*2+1,C&&C.isDragging)L.setFromCamera(h,E),L.ray.intersectPlane(M,A)&&C.mesh.position.copy(A.sub(N));else{L.setFromCamera(h,E);const f=L.intersectObjects(w.filter(o=>o.mesh.visible).map(o=>o.mesh),!0);ht.style.cursor=f.length>0?"grab":"auto"}},p=()=>{C&&(C.isDragging=!1,C=null,ht.style.cursor="auto")};window.addEventListener("pointerdown",j),window.addEventListener("pointermove",v),window.addEventListener("pointerup",p);let J=0,U=0;const Z={x:0,y:0},st={x:0,y:0},lt=u=>{st.x=(u.clientX/window.innerWidth-.5)*5,st.y=(u.clientY/window.innerHeight-.5)*5};window.addEventListener("pointermove",lt);let i=null,s=!1;const e=()=>{s||(s=!0,l())},t=()=>{s&&(s=!1,i!==null&&(cancelAnimationFrame(i),i=null))},l=()=>{if(!s)return;i=requestAnimationFrame(l);const u=Math.abs(window.scrollY-U);U=window.scrollY;const f=1+Math.min(u*.01,2);J+=(window.scrollY/8e3-J)*.05,Z.x+=(st.x-Z.x)*.05,Z.y+=(st.y-Z.y)*.05,E.position.x=Z.x*.8,E.position.y=-Z.y*.8,E.rotation.y=-Z.x*.02,E.rotation.x=-Z.y*.02,R.forEach(o=>{o.progress=(o.progress+o.speed*.4*f)%1;const c=D(o.progress,o.offset);o.mesh.position.copy(c);const g=D((o.progress+.005)%1,o.offset);o.mesh.lookAt(g);const y=c.z<10;o.mesh.visible=y,y&&(o.mesh.material.uniforms.opacity.value=Math.max(0,.4*(1-c.z/10)))}),w.forEach(o=>{o.pathProgress=(o.pathProgress+o.speed*.4*f)%1;const c=(o.pathProgress+J)%1,g=c<0?1+c:c,y=D(g,o.pathOffset);if(!o.isDragging)o.mesh.position.distanceTo(y)>50?o.mesh.position.copy(y):o.mesh.position.lerp(y,.05),o.mesh.rotation.x+=o.rotationSpeed.x*f,o.mesh.rotation.y+=o.rotationSpeed.y*f,o.mesh.rotation.z+=o.rotationSpeed.z*f,I.set(o.baseScale,o.baseScale,o.baseScale),o.mesh.scale.lerp(I,.1);else{const b=o.baseScale*.7;I.set(b,b,b),o.mesh.scale.lerp(I,.1)}const r=o.mesh.position.z<15;o.mesh.visible=r;const n=o.mesh;r&&n.material instanceof Tt&&(n.material.opacity=Math.max(0,1*(1-(o.mesh.position.z-5)/10)),n.material.transparent=o.mesh.position.z>5)}),k.render(B,E)},d=()=>{E.aspect=window.innerWidth/window.innerHeight,E.updateProjectionMatrix(),k.setSize(window.innerWidth,window.innerHeight)};window.addEventListener("resize",d),e();const a=new IntersectionObserver(u=>{const f=u[0];f&&(f.isIntersecting?e():t())},{threshold:0});a.observe(O);const m=()=>{B.traverse(u=>{const f=u;f.geometry&&f.geometry.dispose(),f.material&&(Array.isArray(f.material)?f.material:[f.material]).forEach(c=>{c.dispose()})})};return()=>{t(),window.removeEventListener("pointerdown",j),window.removeEventListener("pointermove",v),window.removeEventListener("pointerup",p),window.removeEventListener("pointermove",lt),window.removeEventListener("resize",d),a.disconnect(),m(),k.dispose(),O.dataset.heroInit="false"}};let bt=null;const Mt=()=>{bt?.(),bt=se()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Mt,{once:!0}):Mt();const Et=()=>Mt(),kt=()=>{bt?.(),document.removeEventListener("astro:page-load",Et),document.removeEventListener("astro:before-swap",kt)};document.addEventListener("astro:page-load",Et);document.addEventListener("astro:before-swap",kt);
